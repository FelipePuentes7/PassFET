<div class="container">
    <form id="registroForm" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <h2>Registro FET</h2>

        <!-- Mensajes de estado -->
        <div *ngIf="successMessage" class="mensaje success">{{ successMessage }}</div>
        <div *ngIf="errorMessage" class="mensaje error">{{ errorMessage }}</div>

        <div class="form-row">
            <div class="form-group">
                <label for="rol">Rol:</label>
                <select id="rol" formControlName="rol" required>
                    <option value="estudiante">Estudiante</option>
                    <option value="tutor">Tutor</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="nombre">Nombre completo:</label>
                <input type="text" id="nombre" formControlName="nombre" required>
                <div *ngIf="registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched" class="error-text">
                    El nombre es requerido.
                </div>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="email">Correo institucional:</label>
                <input type="email" id="email" formControlName="email" placeholder="ejemplo@fet.edu.co" required>
                <small class="email-hint">El correo debe terminar en @fet.edu.co</small>
            </div>
            <div class="form-group">
                <label for="documento">Número de documento:</label>
                <input type="text" id="documento" formControlName="documento" required>
            </div>
        </div>

        <!-- Campos de Estudiante -->
        <ng-container *ngIf="registerForm.get('rol')?.value === 'estudiante'">
            <div class="form-row estudiante-fields">
                <div class="form-group">
                    <label for="codigo_estudiante">Código de estudiante:</label>
                    <input type="text" id="codigo_estudiante" formControlName="codigo_estudiante">
                </div>
                <div class="form-group">
                    <label for="opcion_grado">Opción de grado:</label>
                    <select id="opcion_grado" formControlName="opcion_grado">
                        <option value="">Seleccione una opción</option>
                        <option value="seminario">Seminario</option>
                        <option value="proyecto">Proyecto de Aplicación</option>
                        <option value="pasantia">Pasantías</option>
                    </select>
                </div>
            </div>
            <div class="form-row estudiante-fields">
                <div class="form-group">
                    <label for="ciclo">Ciclo:</label>
                    <select id="ciclo" formControlName="ciclo">
                        <option value="">Seleccione un ciclo</option>
                        <option value="tecnico">Técnico</option>
                        <option value="tecnologo">Tecnólogo</option>
                        <option value="profesional">Profesional</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="telefono">Teléfono:</label>
                    <input type="tel" id="telefono" formControlName="telefono">
                </div>
            </div>
        </ng-container>

        <!-- Campos de Tutor -->
        <ng-container *ngIf="registerForm.get('rol')?.value === 'tutor'">
            <div class="form-row tutor-fields">
                <div class="form-group">
                    <label for="codigo_institucional">Código institucional:</label>
                    <input type="text" id="codigo_institucional" formControlName="codigo_institucional">
                </div>
                <div class="form-group">
                    <label for="telefono_tutor">Teléfono:</label>
                    <input type="tel" id="telefono_tutor" formControlName="telefono">
                </div>
            </div>
        </ng-container>

        <div class="form-row">
            <div class="form-group">
                <label for="password">Contraseña:</label>
                <input type="password" id="password" formControlName="password" required>
                <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" class="error-text">
                    La contraseña debe tener al menos 8 caracteres.
                </div>
            </div>
            <div class="form-group">
                <label for="password_confirmation">Confirmar contraseña:</label>
                <input type="password" id="password_confirmation" formControlName="password_confirmation" required>
            </div>
        </div>
        
        <div class="form-terms">
                <input type="checkbox" id="terms" formControlName="terms">
                <label for="terms">Acepto los términos y condiciones</label>
            </div>

        <button type="submit" class="btn-registro" [disabled]="registerForm.invalid">Registrarse</button>
        <p class="login-link">¿Ya tienes cuenta? <a routerLink="/">Iniciar sesión</a></p>
    </form>

    
</div>
